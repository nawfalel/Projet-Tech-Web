/*C2*/SET SCHEMA PUBLIC
create table app_user (id bigint generated by default as identity (start with 1), created timestamp, password varchar(255), username varchar(255), role_id bigint, primary key (id))
create table favorite_recipe (recipe_id bigint not null, app_user_id bigint not null)
create table ingredient (id bigint generated by default as identity (start with 1), image_url varchar(255), label varchar(255), primary key (id))
create table privilege (id bigint generated by default as identity (start with 1), privilege varchar(255), primary key (id))
create table recipe (id bigint generated by default as identity (start with 1), created timestamp, description varchar(255), image_url varchar(255), label varchar(255), app_user_id bigint, primary key (id))
create table recipe_ingredient (ingredient_id bigint not null, recipe_id bigint not null, ingredient_preparation_desc varchar(255), quantity_info varchar(255), primary key (ingredient_id, recipe_id))
create table role (id bigint generated by default as identity (start with 1), role varchar(255), primary key (id))
create table role_privilege (role_id bigint not null, privilege_id bigint not null)
alter table app_user add constraint UK_3k4cplvh82srueuttfkwnylq0 unique (username)
alter table ingredient add constraint UK_tnhfvr29l1fykbohmss0lwlb9 unique (label)
alter table recipe add constraint UK_93rel236yry2yoget64swc7jr unique (label)
alter table app_user add constraint FK49hx9nj6onfot1fxtonj986ab foreign key (role_id) references role
alter table favorite_recipe add constraint FK1p7fg6hfs0831hjad7a6g5q64 foreign key (app_user_id) references app_user
alter table favorite_recipe add constraint FKkc0xeltectgqgjnuemidtyi4i foreign key (recipe_id) references recipe
alter table recipe add constraint FKis7ijx7fquky2je7guvpwrjwm foreign key (app_user_id) references app_user
alter table recipe_ingredient add constraint FK9b3oxoskt0chwqxge0cnlkc29 foreign key (ingredient_id) references ingredient
alter table recipe_ingredient add constraint FKgu1oxq7mbcgkx5dah6o8geirh foreign key (recipe_id) references recipe
alter table role_privilege add constraint FKdkwbrwb5r8h74m1v7dqmhp99c foreign key (privilege_id) references privilege
alter table role_privilege add constraint FKsykrtrdngu5iexmbti7lu9xa foreign key (role_id) references role
SET DATABASE SQL SYNTAX MYS TRUE
INSERT INTO ROLE VALUES(1,'ROLE_USER')
INSERT INTO ROLE VALUES(2,'ROLE_ADMIN')
COMMIT
INSERT INTO APP_USER VALUES(1,'2022-05-31 21:32:04.243000','$2a$10$f9yeu/iBCIN7hohTJdLrgeFVZO200Mxeac3c2x.RuXCKHycQKFLJi','recipeAdmin',2)
COMMIT
INSERT INTO APP_USER VALUES(2,'2022-05-31 21:32:50.164146','$2a$10$vBlMY94fFTs.j5KhpPba7eXT0HDS9jfHpguoh7hzV6Q8r.EUqe2.q','nawfal',1)
COMMIT
INSERT INTO INGREDIENT VALUES(1,'https://img.passeportsante.net/1200x675/2021-05-03/i102192-tomate-nu.webp','tomate')
COMMIT
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
